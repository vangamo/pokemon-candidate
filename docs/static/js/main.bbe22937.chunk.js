(this["webpackJsonpadalab-pokemon-candidate"]=this["webpackJsonpadalab-pokemon-candidate"]||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/pika-error.6cc7b065.gif"},24:function(e,t,a){e.exports=a(40)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),o=a.n(r),s=a(11),i=(a(29),a(9)),l=a(10),m=a(7),u=a(15),d=a(14),h=a(1),f="http://pokeapi.salestock.net/api/v2/",v=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,[{key:"getPokemons",value:function(){return"?limit=811",fetch("http://pokeapi.salestock.net/api/v2/pokemon/?limit=811").then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){var t=e.url.lastIndexOf("/",e.url.length-2);return{id:e.url.substring(t+1,e.url.length-1),name:e.name}}))}))}},{key:"getPokemonData",value:function(e){return fetch(f+"pokemon/"+"".concat(e,"/")).then((function(e){return e.json()})).then((function(e){var t=e.types.sort((function(e,t){return e.slot>t.slot})).map((function(e){return e.type.name}));return{id:e.id,name:e.name,imageURI:e.sprites.front_default,kind:t}}))}},{key:"getPokemonEvolution",value:function(e){return fetch(f+"pokemon-species/"+"".concat(e,"/")).then((function(e){return e.json()})).then((function(e){return{id:e.id,evolvesFrom:e.evolves_from_species.name}}))}}],[{key:"getInstance",value:function(){return null===e.instance&&(e.instance=new e),e.instance}}]),e}();v.instance=null;var p=v,k=(a(30),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={searchText:e.searchText},n.keyPressedTimeout=null,n.handleKeyPressed=n.handleKeyPressed.bind(Object(m.a)(n)),n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(l.a)(a,[{key:"launchSearch",value:function(){var e=this.state.searchText.trim();this.props.handleSearch(e)}},{key:"handleChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"handleKeyPressed",value:function(e){var t=this,a=e.keyCode?e.keyCode:e.which;null!=this.keyPressedTimeout&&clearTimeout(this.keyPressedTimeout),13===a?(e.preventDefault(),this.launchSearch()):this.keyPressedTimeout=setTimeout((function(){t.launchSearch()}),300)}},{key:"render",value:function(){return c.a.createElement("div",{className:"searchbox"},c.a.createElement("input",{className:"search",type:"text",placeholder:"Filtra pokemons por nombre",value:this.state.searchText,onChange:this.handleChange,onKeyUp:this.handleKeyPressed}))}}]),a}(n.Component));k.defaultProps={searchText:""};var E=k,g=a(6),b=a(13);a(31);function O(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var y=function(e){var t=function(e,t){var a=Object(n.useState)({id:e,name:O(t),imageURI:"",kind:[],evolvesFrom:null}),c=Object(b.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){var t=!0;return p.getInstance().getPokemonData(e).then((function(e){t&&o(Object(g.a)(Object(g.a)(Object(g.a)({},r),e),{},{name:O(e.name)}))})).catch((function(e){console.error(e)})),p.getInstance().getPokemonEvolution(e).then((function(e){t&&o(Object(g.a)(Object(g.a)({},r),e))})).catch((function(e){console.error(e)})),function(){t=!1}})),r}(e.id,e.name),a=Object(h.f)();var r=t.kind.map((function(e){return c.a.createElement("span",{key:e},e)}));return c.a.createElement("article",{className:"card",onClick:function(){a.push("/details/".concat(e.id,"-").concat(e.name))}},c.a.createElement("div",{className:"greypart"},c.a.createElement("div",{className:"photo"},c.a.createElement("img",{src:t.imageURI,alt:""===t.imageURI?"Cargando imagen de ".concat(t.name):"Imagen de ".concat(t.name)})),c.a.createElement("span",{className:"id"},"ID / ",t.id)),c.a.createElement("div",{className:"whitepart"},c.a.createElement("div",{className:"name"},t.name),c.a.createElement("div",{className:"kind"},r),!!t.evolvesFrom&&c.a.createElement("div",{className:"evolution"},c.a.createElement("div",{className:"ttile"},"Evoluciona de:"),c.a.createElement("div",{className:"parent"},"EVOL"))))};y.defaultProps={};var j=y,N=(a(37),a(23)),P=a.n(N),S=function(e){var t=e.pokemonList.map((function(e){return c.a.createElement(j,{key:e.id,id:e.id,name:e.name})}));return c.a.createElement("section",{className:"pile"},"loading"===e.state&&c.a.createElement("div",{className:"message"},"Cargando datos..."),"filtering"===e.state&&c.a.createElement("div",{className:"message"},"Filtrando Pok\xe9mons..."),"done"===e.state&&t,"error"===e.state&&c.a.createElement("div",{className:"error"},c.a.createElement("div",null,"Hemos tenido un error de conexi\xf3n"),c.a.createElement("img",{src:P.a,alt:"Pikachu asustado por la situaci\xf3n"})))};S.defaultProps={state:"loading"};var x=S;a(38);function C(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var I=function(e){var t=e.match.params.key.split("-"),a=Object(b.a)(t,2),r=function(e,t){var a=Object(n.useState)({id:e,name:C(t),imageURI:"",kind:[],evolvesFrom:null}),c=Object(b.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){var t=!0;return p.getInstance().getPokemonData(e).then((function(e){t&&o(Object(g.a)(Object(g.a)(Object(g.a)({},r),e),{},{name:C(e.name)}))})).catch((function(e){console.error(e)})),p.getInstance().getPokemonEvolution(e).then((function(e){t&&o(Object(g.a)(Object(g.a)({},r),e))})).catch((function(e){console.error(e)})),function(){t=!1}})),r}(a[0],a[1]),o=Object(h.f)();var s=r.kind.map((function(e){return c.a.createElement("span",{key:e},e)}));return c.a.createElement("section",{className:"details"},c.a.createElement("div",{className:"breadcrumb"},c.a.createElement("input",{type:"button",className:"back",value:"Volver a la lista",onClick:function(){o.push("/")}})),c.a.createElement("article",{className:"card big"},c.a.createElement("div",{className:"greypart"},c.a.createElement("div",{className:"photo"},c.a.createElement("img",{src:r.imageURI,alt:""===r.imageURI?"Cargando imagen de ".concat(r.name):"Imagen de ".concat(r.name)})),c.a.createElement("span",{className:"id"},"ID / ",r.id)),c.a.createElement("div",{className:"whitepart"},c.a.createElement("div",{className:"name"},r.name),c.a.createElement("div",{className:"kind"},s),!!r.evolvesFrom&&c.a.createElement("div",{className:"evolution"},c.a.createElement("div",{className:"ttile"},"Evoluciona de:"),c.a.createElement("div",{className:"parent"},"EVOL")))))};I.defaultProps={};var L=I,T=(a(39),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).ALL_POKEMONS=[],n.state={searchText:"",pokemonList:[],dataState:"loading"},n.searchPokemons=n.searchPokemons.bind(Object(m.a)(n)),n}return Object(l.a)(a,[{key:"searchPokemons",value:function(e){var t=this;this.setState({searchText:e},(function(){t.filterPokemons()})),"/"!==this.props.history.location.pathname&&this.props.history.push("/")}},{key:"filterPokemons",value:function(){var e=this.state.searchText.trim().toLowerCase();if(this.setState({dataState:"filtering"}),""===e)this.setState({pokemonList:this.ALL_POKEMONS.slice(0,6),dataState:"done"});else{var t=RegExp(e,"gi"),a=this.ALL_POKEMONS.filter((function(e){return t.test(e.name)}));this.setState({pokemonList:a,dataState:"done"})}}},{key:"componentDidMount",value:function(){var e=this;p.getInstance().getPokemons().then((function(t){e.ALL_POKEMONS=t,e.filterPokemons()})).catch((function(t){e.setState({dataState:"error"})}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"app"},c.a.createElement("section",{className:"header"},c.a.createElement(E,{handleSearch:this.searchPokemons,searchText:this.state.searchText})),c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return c.a.createElement(x,{pokemonList:e.state.pokemonList,state:e.state.dataState})}}),c.a.createElement(h.a,{exact:!0,path:"/details/:key",render:function(e){return c.a.createElement(L,{match:e.match})}})))}}]),a}(n.Component)),w=Object(h.g)(T);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(s.a,null,c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.bbe22937.chunk.js.map