(this["webpackJsonpadalab-pokemon-candidate"]=this["webpackJsonpadalab-pokemon-candidate"]||[]).push([[0],{19:function(e,t,a){},23:function(e,t,a){e.exports=a.p+"static/media/pika-error.6cc7b065.gif"},25:function(e,t,a){e.exports=a(42)},30:function(e,t,a){},31:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),s=a.n(i),o=a(14),c=(a(30),a(5)),l=a(6),u=a(8),m=a(11),h=a(10),d=a(1),p="https://pokeapi.co/api/v2/",v=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"getPokemons",value:function(){return"?limit=811",fetch("https://pokeapi.co/api/v2/pokemon/?limit=811").then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){var t=e.url.lastIndexOf("/",e.url.length-2);return{id:e.url.substring(t+1,e.url.length-1),name:e.name}}))}))}},{key:"getPokemonData",value:function(e){return fetch(p+"pokemon/"+"".concat(e,"/")).then((function(e){return e.json()})).then((function(e){var t=e.types.sort((function(e,t){return e.slot>t.slot})).map((function(e){return e.type.name}));return{id:e.id,name:e.name,imageURI:e.sprites.front_default,kind:t}}))}},{key:"getPokemonEvolution",value:function(e){return fetch(p+"pokemon-species/"+"".concat(e,"/")).then((function(e){return e.json()})).then((function(e){return e.evolves_from_species?{id:e.id,evolvesFrom:e.evolves_from_species.name}:null}))}}],[{key:"getInstance",value:function(){return null===e.instance&&(e.instance=new e),e.instance}}]),e}();v.instance=null;var f=v,k=(a(31),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={searchText:e.searchText},n.keyPressedTimeout=null,n.handleKeyPressed=n.handleKeyPressed.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"launchSearch",value:function(){var e=this.state.searchText.trim();this.props.handleSearch(e)}},{key:"handleChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"handleKeyPressed",value:function(e){var t=this,a=e.keyCode?e.keyCode:e.which;null!=this.keyPressedTimeout&&clearTimeout(this.keyPressedTimeout),13===a?(e.preventDefault(),this.launchSearch()):this.keyPressedTimeout=setTimeout((function(){t.launchSearch()}),300)}},{key:"render",value:function(){return r.a.createElement("div",{className:"searchbox"},r.a.createElement("input",{className:"search",type:"text",placeholder:"Filtra pokemons por nombre",value:this.state.searchText,onChange:this.handleChange,onKeyUp:this.handleKeyPressed}))}}]),a}(n.Component));k.defaultProps={searchText:""};var b=k,g=a(9),E=a.n(g),y=a(13);a(19);function O(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}var j=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:0,name:"",imageURI:"",kind:[],evolvesFrom:null},n.isComponentMounted=!0,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.id;f.getInstance().getPokemonData(t).then((function(t){e.isComponentMounted&&e.setState(Object(y.a)(Object(y.a)(Object(y.a)({},e.state),t),{},{name:O(t.name)}))})).catch((function(e){console.error(e)})),f.getInstance().getPokemonEvolution(t).then((function(t){e.isComponentMounted&&e.setState(Object(y.a)(Object(y.a)({},e.state),t))})).catch((function(e){console.error(e)}))}},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1}},{key:"printKindList",value:function(){return this.state.kind.map((function(e){return r.a.createElement("span",{key:e},e)}))}}]),a}(n.Component),P=(a(34),function(e){return r.a.createElement("div",{className:"greypart"},r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:e.imageURI,alt:""===e.imageURI?"Cargando imagen de ".concat(e.name):"Imagen de ".concat(e.name)})),r.a.createElement("span",{className:"id"},"ID / ",e.id))});P.defaultProps={};var C=P,N=(a(35),function(e){return r.a.createElement("div",{className:"whitepart"},r.a.createElement("div",{className:"name"},e.name),r.a.createElement("div",{className:"kind"},e.kinds),!!e.evolvesFrom&&r.a.createElement("div",{className:"evolution"},r.a.createElement("div",{className:"ttile"},"Evoluciona de:"),r.a.createElement("div",{className:"parent"},"EVOL")))});N.defaultProps={evolvesFrom:null};var S=N,x=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state.id=e.id,n.state.name=O(e.name),n.handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(){this.props.history.push("/details/".concat(this.props.id,"-").concat(this.props.name))}},{key:"render",value:function(){var e=this.state,t=this.printKindList();return r.a.createElement("article",{className:"card",onClick:this.handleClick},r.a.createElement(C,{name:e.name,id:e.id,imageURI:e.imageURI}),r.a.createElement(S,{name:e.name,kinds:t,evolvesFrom:e.evolvesFrom}))}}]),a}(j);x.propTypes={id:E.a.string.isRequired,name:E.a.string.isRequired},x.defaultProps={};var L=Object(d.f)(x),T=(a(39),a(23)),I=a.n(T),w=function(e){var t=e.pokemonList.map((function(e){return r.a.createElement(L,{key:e.id,id:e.id,name:e.name})}));return r.a.createElement("section",{className:"pile"},"loading"===e.state&&r.a.createElement("div",{className:"message"},"Cargando datos..."),"filtering"===e.state&&r.a.createElement("div",{className:"message"},"Filtrando Pok\xe9mons..."),"done"===e.state&&t,"error"===e.state&&r.a.createElement("div",{className:"error"},r.a.createElement("div",null,"Hemos tenido un error de conexi\xf3n"),r.a.createElement("img",{src:I.a,alt:"Pikachu asustado por la situaci\xf3n"})))};w.defaultProps={state:"loading"};var K=w,R=a(24),M=(a(40),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(c.a)(this,a),n=t.call(this,e);var r=e.match.params.key.split("-"),i=Object(R.a)(r,2),s=i[0],o=i[1];return n.state.id=s,n.state.name=O(o),n.handleClickGoBack=n.handleClickGoBack.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"handleClickGoBack",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=this.state,t=this.printKindList();return r.a.createElement("section",{className:"details"},r.a.createElement("div",{className:"breadcrumb"},r.a.createElement("input",{type:"button",className:"back",value:"Volver a la lista",onClick:this.handleClickGoBack})),r.a.createElement("article",{className:"card big"},r.a.createElement(C,{name:e.name,id:e.id,imageURI:e.imageURI}),r.a.createElement(S,{name:e.name,kinds:t,evolvesFrom:e.evolvesFrom})))}}]),a}(j));M.propTypes={match:E.a.object.isRequired},M.defaultProps={};var U=Object(d.f)(M),F=(a(41),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).ALL_POKEMONS=[],n.state={searchText:"",pokemonList:[],dataState:"loading"},n.searchPokemons=n.searchPokemons.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"searchPokemons",value:function(e){var t=this;this.setState({searchText:e},(function(){t.filterPokemons()})),"/"!==this.props.history.location.pathname&&this.props.history.push("/")}},{key:"filterPokemons",value:function(){var e=this.state.searchText.trim().toLowerCase();if(this.setState({dataState:"filtering"}),""===e)this.setState({pokemonList:this.ALL_POKEMONS.slice(0,12),dataState:"done"});else{var t=RegExp(e,"gi"),a=this.ALL_POKEMONS.filter((function(e){return t.test(e.name)}));this.setState({pokemonList:a,dataState:"done"})}}},{key:"componentDidMount",value:function(){var e=this;f.getInstance().getPokemons().then((function(t){e.ALL_POKEMONS=t,e.filterPokemons()})).catch((function(t){e.setState({dataState:"error"})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement("section",{className:"header"},r.a.createElement(b,{handleSearch:this.searchPokemons,searchText:this.state.searchText})),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(K,{pokemonList:e.state.pokemonList,state:e.state.dataState})}}),r.a.createElement(d.a,{exact:!0,path:"/details/:key",render:function(e){return r.a.createElement(U,{match:e.match})}})))}}]),a}(n.Component)),_=Object(d.f)(F);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(o.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.a79b91ad.chunk.js.map